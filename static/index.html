<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restavo | ููุงุฑูุฉ ุญุฌูุฒุงุช ุงูููุงุฏู ูุงูุฐูุงุก ุงูุงุตุทูุงุนู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- ๐ ุชุญุณูู: ุงุณุชุฎุฏุงู ูุณุงุฑ ูุทูู (root-relative) ูุจุฏุฃ ุจู / -->
    <link rel="stylesheet" href="/assets/css/style.css">
</head>

<body class="antialiased">
    <!-- (ุจููุฉ ูุญุชูู ุงูู nav ูุงูููุฑู ููุง ูู) -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex-shrink-0 flex items-center">
                    <span class="text-3xl font-bold brand-text">Restavo</span>
                </div>

                <div class="flex items-center space-x-4 space-x-reverse">
                    <div id="user-display" class="hidden sm:block text-sm text-gray-600 font-medium"></div>

                    <button id="favorites-toggle-btn" class="icon-link relative" aria-label="ูุงุฆูุฉ ุงูููุถูุฉ">
                        <i data-lucide="heart" class="w-5 h-5"></i>
                        <span id="favorites-count"
                            class="absolute -top-1 -right-1 bg-red-500 text-white text-[10px] w-4 h-4 rounded-full flex items-center justify-center opacity-0 transition-opacity duration-200">0</span>
                        <span class="text-sm hidden lg:inline">ุงูููุถูุฉ</span>
                    </button>

                    <button id="bookings-toggle-btn" class="icon-link" aria-label="ุงูุญุฌูุฒุงุช ุงููุคูุฏุฉ">
                        <i data-lucide="calendar-check" class="w-5 h-5"></i>
                        <span class="text-sm hidden lg:inline">ุญุฌูุฒุงุชู</span>
                    </button>

                    <button id="auth-action-btn"
                        class="brand-color text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-[#4d3c16] transition duration-200 shadow-md flex items-center gap-1">
                        <!-- ุณูุชู ุชุญุฏูุซ ุงููุญุชูู ุนุจุฑ JavaScript -->
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <header
        style="background-image: url('assets/images/commercial-ozone-generator.jpg.webp'); background-size: cover; background-position: center;"
        class="py-20 lg:py-32 flex items-center justify-center">
        <div class="bg-white bg-opacity-95 p-6 md:p-10 rounded-xl shadow-2xl w-full max-w-4xl mx-4">
            <h1 class="text-3xl font-extrabold text-gray-800 mb-6 text-center">ุงุจุญุซ ููุงุฑู ุฃูุถู ุนุฑูุถ ุงูููุงุฏู</h1>

            <form id="search-form" class="grid grid-cols-2 md:grid-cols-4 gap-4 items-end">
                <div class="col-span-2 md:col-span-1">
                    <label for="city" class="block text-sm font-medium text-gray-700 mb-1">ุงููุฌูุฉ (ุงููุฏููุฉ)</label>
                    <select id="city" name="city" required
                        class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-[#59451b] focus:border-[#59451b]">
                        <option value="Dubai">ุฏุจู</option>
                        <option value="Abu Dhabi">ุฃุจู ุธุจู</option>
                        <option value="Cairo">ุงููุงูุฑุฉ</option>
                        <option value="Giza">ุงูุฌูุฒุฉ</option>
                        <option value="Aswan">ุฃุณูุงู</option>
                        <option value="Luxor">ุงูุฃูุตุฑ</option>
                        <option value="Sharm El Sheikh">ุดุฑู ุงูุดูุฎ</option>
                        <option value="Hurghada">ุงูุบุฑุฏูุฉ</option>
                    </select>
                </div>

                <div class="col-span-1">
                    <label for="check_in" class="block text-sm font-medium text-gray-700 mb-1">ุงููุตูู</label>
                    <input type="date" id="check_in" name="check_in" value="2025-12-01"
                        class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-[#59451b] focus:border-[#59451b]">
                </div>

                <div class="col-span-1">
                    <label for="check_out" class="block text-sm font-medium text-gray-700 mb-1">ุงููุบุงุฏุฑุฉ</label>
                    <input type="date" id="check_out" name="check_out" value="2025-12-05"
                        class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-[#59451b] focus:border-[#59451b]">
                </div>

                <div class="col-span-2 md:col-span-1">
                    <button type="submit"
                        class="w-full brand-color hover:bg-[#4d3c16] text-white font-bold py-3 px-4 rounded-lg transition duration-200 shadow-lg transform hover:scale-[1.02]">
                        ุงุจุญุซ ุงูุขู
                    </button>
                </div>

                <input type="hidden" id="min_rating" name="min_rating" value="0.0">
            </form>
        </div>
    </header>

    <main class="max-w-7xl mx-auto py-10 px-4 sm:px-6 lg:px-8">
        <section class="mb-12">
            <h2 class="text-2xl font-bold brand-text mb-4 flex items-center gap-2 border-b pb-2">
                <i data-lucide="sparkles" class="w-6 h-6"></i>
                ุงูููุงุฏู ุงูุฃูุซุฑ ุจุญุซุงู
            </h2>
            <div id="popular-hotels-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4">
                <p class="text-center text-gray-500 col-span-full">ุฌุงุฑู ุชุญููู ุงูููุงุฏู ุงูุฃูุซุฑ ุดููุนุงู...</p>
            </div>
        </section>

        <div id="results-container">
            <h2 id="results-title" class="text-3xl font-extrabold text-gray-800 mb-8 border-b pb-3 hidden"></h2>

            <div id="hotel-cards-list"></div>

            <p id="initial-message" class="text-lg text-gray-600 text-center">ูุฑุฌู ุงุฎุชูุงุฑ ูุฌูุฉ ูุงูุถุบุท ุนูู "ุงุจุญุซ ุงูุขู"
                ูุนุฑุถ ุงููุชุงุฆุฌ.</p>
        </div>
    </main>

    <footer class="brand-color text-white p-6 mt-10">
        <div class="max-w-7xl mx-auto text-center text-sm">
            <p>&copy; 2024 Restavo - ููุงุฑูุฉ ุฐููุฉ ูุฃุณุนุงุฑ ุงูููุงุฏู</p>
        </div>
    </footer>
    
    <!-- (ุจููุฉ ุงูููุงูุฐ ุงูููุจุซูุฉ Modal ููุง ูู) -->
    
    <div id="favorites-modal"
        class="fixed inset-0 bg-gray-900 bg-opacity-50 z-[100] hidden flex items-center justify-center">
        <div
            class="bg-white rounded-xl shadow-2xl w-full max-w-2xl mx-4 h-[90vh] flex flex-col overflow-hidden animate-in fade-in-0 zoom-in-95">
            <div class="brand-color text-white p-4 flex justify-between items-center rounded-t-xl flex-shrink-0">
                <h3 class="text-xl font-bold flex items-center gap-2">
                    <i data-lucide="heart" class="w-6 h-6 fill-current"></i>
                    <span id="favorites-title">ููุงุฏูู ุงูููุถูุฉ (0)</span>
                </h3>
                <button id="favorites-close-btn" class="hover:bg-[#4d3c16] p-1 rounded-full transition duration-150"
                    aria-label="ุฃุบูู ูุงุฆูุฉ ุงูููุถูุฉ">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>

            <div id="favorites-list" class="flex-grow p-4 space-y-4 overflow-y-auto">
                <p class="text-center text-gray-500 mt-10">ุฌุงุฑู ุชุญููู ุงูููุถูููุงุช...</p>
            </div>
        </div>
    </div>

    <!-- ๐ ุฅุถุงูุฉ: ูุงูุฐุฉ ููุจุซูุฉ ูุนุฑุถ ุงูุญุฌูุฒุงุช -->
    <div id="bookings-modal"
        class="fixed inset-0 bg-gray-900 bg-opacity-50 z-[100] hidden flex items-center justify-center">
        <div
            class="bg-white rounded-xl shadow-2xl w-full max-w-3xl mx-4 h-[90vh] flex flex-col overflow-hidden animate-in fade-in-0 zoom-in-95">
            <div class="brand-color text-white p-4 flex justify-between items-center rounded-t-xl flex-shrink-0">
                <h3 class="text-xl font-bold flex items-center gap-2">
                    <i data-lucide="calendar-check" class="w-6 h-6"></i>
                    <span id="bookings-title">ุญุฌูุฒุงุชู ุงููุคูุฏุฉ</span>
                </h3>
                <button id="bookings-close-btn" class="hover:bg-[#4d3c16] p-1 rounded-full transition duration-150"
                    aria-label="ุฃุบูู ูุงุฆูุฉ ุงูุญุฌูุฒุงุช">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>
            <div id="bookings-list" class="flex-grow p-4 space-y-4 overflow-y-auto bg-gray-50">
                <p class="text-center text-gray-500 mt-10">ุฌุงุฑู ุชุญููู ุญุฌูุฒุงุชู...</p>
            </div>
        </div>
    </div>

    <!-- ๐ ุฅุถุงูุฉ: ูุงูุฐุฉ ููุจุซูุฉ ูุนุฑุถ ุชุญููู ุงูุฐูุงุก ุงูุงุตุทูุงุนู -->
    <div id="ai-analysis-modal"
        class="fixed inset-0 bg-gray-900 bg-opacity-50 z-[110] hidden flex items-center justify-center">
        <div
            class="bg-white rounded-xl shadow-2xl w-full max-w-2xl mx-4 max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in-0 zoom-in-95">
            <div class="brand-color text-white p-4 flex justify-between items-center rounded-t-xl flex-shrink-0">
                <h3 class="text-xl font-bold flex items-center gap-2">
                    <i data-lucide="sparkles" class="w-6 h-6"></i>
                    <span>ุชุญููู ุงูุญุฌุฒ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู</span>
                </h3>
                <button id="ai-analysis-close-btn" class="hover:bg-[#4d3c16] p-1 rounded-full transition duration-150"
                    aria-label="ุฃุบูู ูุงูุฐุฉ ุงูุชุญููู">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>
            <div id="ai-analysis-content" class="flex-grow p-6 space-y-4 overflow-y-auto bg-gray-50">
                <!-- ุณูุชู ููุก ูุญุชูู ุงูุชุญููู ููุง -->
            </div>
        </div>
    </div>

    <div id="auth-modal"
        class="fixed inset-0 bg-gray-900 bg-opacity-50 z-[100] hidden flex items-center justify-center">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-lg mx-4 animate-in fade-in-0 zoom-in-95">
            <div class="brand-color text-white p-4 flex justify-between items-center rounded-t-xl flex-shrink-0">
                <h3 class="text-xl font-bold flex items-center gap-2">
                    <i data-lucide="user-plus" class="w-6 h-6 fill-current"></i>
                    <span>ุชุณุฌูู ุงูุฏุฎูู / ุฅูุดุงุก ุญุณุงุจ</span>
                </h3>
                <button id="auth-close-btn" class="hover:bg-[#4d3c16] p-1 rounded-full transition duration-150"
                    aria-label="ุฃุบูู ูุงูุฐุฉ ุงูุชุณุฌูู">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>

            <div class="p-8">
                <form id="auth-form">
                    <div class="flex justify-center mb-6">
                        <button type="button" id="login-tab"
                            class="px-6 py-2 border-b-2 border-brand-color text-brand-text font-bold transition duration-200">ุชุณุฌูู
                            ุงูุฏุฎูู</button>
                        <button type="button" id="register-tab"
                            class="px-6 py-2 border-b-2 border-gray-200 text-gray-500 hover:border-brand-color hover:text-brand-text transition duration-200">ุฅูุดุงุก
                            ุญุณุงุจ</button>
                    </div>

                    <div class="mb-4">
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">ุงูุจุฑูุฏ
                            ุงูุฅููุชุฑููู</label>
                        <input type="email" id="email" name="email" required
                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-[#59451b] focus:border-[#59451b]"
                            placeholder="example@email.com">
                    </div>

                    <div class="mb-6">
                        <label for="password" class="block text-sm font-medium text-gray-700 mb-1">ูููุฉ ุงููุฑูุฑ</label>
                        <input type="password" id="password" name="password" required minlength="6"
                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-[#59451b] focus:border-[#59451b]"
                            placeholder="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ">
                    </div>

                    <button type="submit" id="auth-submit-btn"
                        class="w-full brand-color hover:bg-[#4d3c16] text-white font-bold py-3 px-4 rounded-lg transition duration-200 shadow-lg">
                        ุชุณุฌูู ุงูุฏุฎูู
                    </button>

                    <p id="auth-error-message" class="text-center text-red-500 text-sm mt-3 hidden"></p>

                    <div class="mt-6 text-center text-gray-500 text-sm">ุฃู ููููู ุงูุชุณุฌูู/ุงูุฏุฎูู ุนุจุฑ:</div>
                    <div class="flex justify-center gap-4 mt-3">
                        <button type="button"
                            class="flex items-center gap-2 border border-gray-300 p-2 rounded-lg hover:bg-gray-50 transition duration-150">
                            <i data-lucide="mail" class="w-5 h-5 text-red-500"></i>
                            <span class="text-sm hidden sm:inline">ุฌูุฌู</span>
                        </button>
                        <button type="button"
                            class="flex items-center gap-2 border border-gray-300 p-2 rounded-lg hover:bg-gray-50 transition duration-150">
                            <i data-lucide="facebook" class="w-5 h-5 text-blue-600"></i>
                            <span class="text-sm hidden sm:inline">ููุณุจูู</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <button id="chat-toggle-btn"
        class="fixed bottom-6 right-6 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-2xl transition duration-300 z-50 transform hover:scale-110"
        aria-label="ุงูุชุญ ุงูุฏุฑุฏุดุฉ">
        <i data-lucide="message-square-text" class="w-6 h-6"></i>
    </button>

    <div id="chat-window"
        class="fixed bottom-20 right-6 w-80 md:w-96 h-[400px] bg-white rounded-xl shadow-2xl border border-gray-200 z-50 flex flex-col hidden overflow-hidden">
        <div class="brand-color text-white p-4 flex justify-between items-center rounded-t-xl">
            <h3 class="text-lg font-bold">ูุณุงุนุฏ Restavo ุงูุฐูู</h3>
            <button id="chat-close-btn" class="hover:bg-[#4d3c16] p-1 rounded-full transition duration-150"
                aria-label="ุฃุบูู ุงูุฏุฑุฏุดุฉ">
                <i data-lucide="x" class="w-5 h-5"></i>
            </button>
        </div>

        <div id="chat-messages" class="flex-grow p-4 space-y-4 overflow-y-auto" dir="rtl"></div>

        <div class="p-4 border-t border-gray-200 flex gap-2">
            <input type="text" id="chat-input" placeholder="ุงูุชุจ ุฑุณุงูุชู..."
                class="flex-grow p-2 border border-gray-300 rounded-lg focus:ring-[#59451b] focus:border-[#59451b]"
                dir="rtl">
            <button id="chat-send-btn"
                class="brand-color text-white p-2 rounded-lg hover:bg-[#4d3c16] transition duration-200 disabled:opacity-50"
                disabled>
                <i data-lucide="send" class="w-5 h-5"></i>
            </button>
        </div>
    </div>

    <!-- ๐ ุชุญุณูู: ุฅุถุงูุฉ ุนูุตุฑ Toast Message (ุจุฏูู alert) -->
    <div id="toast-message" class=""></div>


    <!-- ๐ ุชุญุณูู: ุงุณุชุฎุฏุงู ูุณุงุฑ ูุทูู (root-relative) ูุจุฏุฃ ุจู / -->
    <!-- ูุฐุง ูุถูู ุนููู ุนูุฏ ุชูุฏููู ูู ุงูุฎุงุฏู -->
    <script type="module" src="/assets/js/script.js"></script>
</body>

</html>